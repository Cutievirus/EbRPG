{"version":3,"sources":["tilesets.js"],"names":["Filament","editorScreen","template","vue","$data","panels","tileset","data","tileset_id","tileset_url","undefined","tileset_width","tileset_height","tools","mode","PLACEMENT_MODE","PEN","img","ERASE","FILL","RECT","CLONE","[object Object]","this","cache","requestTileset","image","baseTexture","imageUrl","width","height","resize","events","addEvent","document","getElementById","style","getBoundingClientRect"],"mappings":"AAAAA,SAAAC,aAAA,WAAA,CACAC,SAAA,4CAGAF,SAAAG,IAAAC,MAAAC,OAAAC,QAAA,CACAJ,SAAA,yTASAK,KAAA,KAAA,CACAC,WAAA,EACAC,iBAAAC,EACAC,cAAA,GACAC,eAAA,GACAN,QAAA,GACAO,MAAA,CAAA,CACAC,KAAAd,SAAAe,eAAAC,IACAC,IAAA,2BACA,CACAH,KAAAd,SAAAe,eAAAG,MACAD,IAAA,8BACA,CACAH,KAAAd,SAAAe,eAAAI,KACAF,IAAA,8BACA,CACAH,KAAAd,SAAAe,eAAAK,KACAH,IAAA,4BACA,CACAH,KAAAd,SAAAe,eAAAM,MACAJ,IAAA,gCAGAK,gBACAC,KAAAjB,cAAAN,SAAAwB,MAAAC,eAAAF,KAAAf,YACAe,KAAAd,YAAAc,KAAAjB,QAAAoB,MAAAC,YAAAC,SACAL,KAAAZ,cAAAY,KAAAjB,QAAAoB,MAAAC,YAAAE,MACAN,KAAAX,eAAAW,KAAAjB,QAAAoB,MAAAC,YAAAG,OACA9B,SAAA+B,SACA/B,SAAA+B,WAIA/B,SAAAgC,OAAAC,SAAA,SAAA,KACAC,SAAAC,eAAA,iBAAAC,MAAAP,MACAK,SAAAC,eAAA,WAAAE,wBAAAR,MAAA","file":"editor.js","sourcesContent":["Filament.editorScreen(\"Tilesets\",{\r\n\ttemplate:`<div id=\"screen-tilesets\">tileset</div>`,\r\n});\r\n\r\nFilament.vue.$data.panels.tileset={\r\n\ttemplate:`<aside id=\"tileset-panel\"\r\n\t:style=\"{'--width':tileset_width,'--height':tileset_height}\">\r\n\t\t<select id=\"tileset-select\">\r\n\t\t</select>\r\n\t\t<button v-for=\"tool in tools\">\r\n\t\t\t<img draggable=false :src=\"tool.img\">\r\n\t\t</button>\r\n\t\t<img draggable=false :src=\"tileset_url\" id=\"tileset\">\r\n\t</aside>`,\r\n\tdata:()=>({\r\n\t\ttileset_id:0,\r\n\t\ttileset_url:undefined,\r\n\t\ttileset_width:96,\r\n\t\ttileset_height:96,\r\n\t\ttileset:{},\r\n\t\ttools:[{\r\n\t\t\tmode:Filament.PLACEMENT_MODE.PEN,\r\n\t\t\timg:\"engine/img/tool-pen.png\"\r\n\t\t},{\r\n\t\t\tmode:Filament.PLACEMENT_MODE.ERASE,\r\n\t\t\timg:\"engine/img/tool-eraser.png\"\r\n\t\t},{\r\n\t\t\tmode:Filament.PLACEMENT_MODE.FILL,\r\n\t\t\timg:\"engine/img/tool-bucket.png\"\r\n\t\t},{\r\n\t\t\tmode:Filament.PLACEMENT_MODE.RECT,\r\n\t\t\timg:\"engine/img/tool-rect.png\"\r\n\t\t},{\r\n\t\t\tmode:Filament.PLACEMENT_MODE.CLONE,\r\n\t\t\timg:\"engine/img/tool-clone.png\"\r\n\t\t}]\r\n\t}),\r\n\tasync created(){\r\n\t\tthis.tileset= await Filament.cache.requestTileset(this.tileset_id);\r\n\t\tthis.tileset_url=this.tileset.image.baseTexture.imageUrl;\r\n\t\tthis.tileset_width=this.tileset.image.baseTexture.width;\r\n\t\tthis.tileset_height=this.tileset.image.baseTexture.height;\r\n\t\tFilament.resize();\r\n\t\tFilament.resize();\r\n\t}\r\n}\r\n\r\nFilament.events.addEvent('resize',()=>{\r\n\tdocument.getElementById(\"tileset-panel\").style.width=\r\n\tdocument.getElementById(\"tileset\").getBoundingClientRect().width+'px';\r\n});"]}